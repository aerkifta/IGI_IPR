{% extends 'main/base.html' %}
{% load django_tables2 %}

{% block title %}{{ title }}{% endblock %}

{% block content %}

<div class="halls-wrapper">

    <h1 class="page-title">Залы</h1>

    {% if user.is_authenticated and user.is_superuser %}
        <a href="{% url 'create-hall' %}" class="btn">Добавить зал</a>
    {% endif %}

    <form method="get" class="filter-block">

        <div class="search-block">
            {{ filter.form.as_p }}
        </div>

        <div class="form-actions" style="margin-top:10px;">
            <button class="btn" type="submit">Найти</button>
            <a href="{{ request.path }}" class="btn secondary">Очистить</a>
        </div>

        <div class="perpage-block" style="margin-top:10px;">
            <label for="per_page">Показывать по:</label>
            <select name="per_page" id="per_page" onchange="this.form.submit()" style="padding:6px 10px; margin-left:6px;">
                <option value="5" {% if request.GET.per_page == "5" %}selected{% endif %}>5</option>
                <option value="10" {% if request.GET.per_page == "10" %}selected{% endif %}>10</option>
                <option value="25" {% if request.GET.per_page == "25" %}selected{% endif %}>25</option>
                <option value="50" {% if request.GET.per_page == "50" %}selected{% endif %}>50</option>
                <option value="2147483647" {% if request.GET.per_page == "2147483647" %}selected{% endif %}>Все</option>
            </select>
        </div>

    </form>

    <div class="table-wrapper" style="margin-top:20px;">
        {% render_table table %}
    </div>

</div>

{% endblock %}
